#include <stdio.h>
#include <ctype.h>
 
char board[8][8] = {
    {'r','n','b','q','k','b','n','r'},
    {'p','p','p','p','p','p','p','p'},
    {'.','.','.','.','.','.','.','.'},
    {'.','.','.','.','.','.','.','.'},
    {'.','.','.','.','.','.','.','.'},
    {'.','.','.','.','.','.','.','.'},
    {'P','P','P','P','P','P','P','P'},
    {'R','N','B','Q','K','B','N','R'}
};
 
void printBoard() {
    printf("  a b c d e f g h\n");
    for (int y = 0; y < 8; y++) {
        printf("%d ", 8 - y);
        for (int x = 0; x < 8; x++)
            printf("%c ", board[y][x]);
        printf("%d\n", 8 - y);
    }
    printf("  a b c d e f g h\n");
}
 
int main() {
    char from[3], to[3];
    while (1) {
        printBoard();
        printf("Zadej tah (např. e2 e4) nebo q pro konec:\n> ");
        if (scanf_s("%2s", from) != 1)
            break;
        if (from[0] == 'q')
            break;
        if (scanf_s("%2s", to) != 1)
            break;
        int fx = from[0] - 'a';
        int fy = 8 - (from[1] - '0');
        int tx = to[0] - 'a';
        int ty = 8 - (to[1] - '0');
        if (fx < 0 || fx > 7 || fy < 0 || fy > 7 ||
            tx < 0 || tx > 7 || ty < 0 || ty > 7) {
            printf("Neplatná souřadnice!\n");
            continue;
        }
        board[ty][tx] = board[fy][fx];
        board[fy][fx] = '.';
    }
}
